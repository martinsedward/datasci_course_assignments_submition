{"ts":1368380637677,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"#import simplejson\r\nimport json\r\nimport urllib\r\n#import urllib2\r\nimport sys\r\nimport re\r\n\r\n#Open sentiment file score and transform in dict \r\n#afinnfile = open(\"AFINN-111.txt\")\r\nafinnfile = open(sys.argv[1])\r\nscores = {} # initialize an empty dictionary\r\nfor line in afinnfile:\r\n  term, score  = line.split(\"\\t\")  # The file is tab-delimited. \"\\t\" means \"tab character\"\r\n  scores[term] = int(score)  # Convert the score to an integer.\r\n\r\n  \r\n#Open fw the sentiment file to output\r\n#sentiment_file = open('sentiment_file_derived.txt','w')\r\n\r\n#Open fr the livestream data\r\ntweet_file = open(sys.argv[2])\r\n\r\n#will use to split from the space between the words\r\npattern_split = re.compile(r\"\\W+\")\r\n\r\nscore = 0\r\nfor jsonstring in tweet_file:#Line\r\n    for word in pattern_split.split(json.loads(jsonstring)[\"text\"].lower()):#Words of line\r\n    #    sentiment_file.write(\"[\" + word +\" = \" + str(scores.get(word, 0)) + \"]\")\r\n        score = score + scores.get(word, 0)\r\n    #sentiment_file.write(\" => \"+str(score) + \"\\n\") \r\n    #sentiment_file.write(str(score) + \"\\n\") \r\n    print str(score)\r\n    score = 0\r\n        \r\n\r\n#json = simplejson.load(urllib.urlopen(\"http://search.twitter.com/search.json?q=pfizer\"))\r\n#json = simplejson.load(tweet_file)\r\n\r\n#print scores\r\n\r\n\r\n\r\n#sentiment_file.write(\"teste1\" + \"\\n\")\r\n#sentiment_file.write(\"teste2\" + \"\\n\")\r\n\r\n\r\ntweet_file.close()\r\n#sentiment_file.close()\r\nafinnfile.close()\r\n\r\n  \r\n#print scores.items() # Print every (term, score) pair in the dictionary\r\n\r\n"]],"start1":0,"start2":0,"length1":0,"length2":1493}]],"length":1493}
